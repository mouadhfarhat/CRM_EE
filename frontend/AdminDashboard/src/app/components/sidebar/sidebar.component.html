<aside class="main-sidebar sidebar-dark-primary hold-transition layout-fixed layout-sidebar-fixed">
  <!-- Brand Logo -->
  <a href="#" class="brand-link">
    <img src="../../../assets/imgg/esprit_icon.jpeg" alt="Esprit" class="brand-image img-circle elevation-3" style="opacity: .8">
    <span class="brand-text font-weight-light">Esprit Formation</span>
  </a>

  <!-- Sidebar -->
  <div class="sidebar">
    <!-- User Panel - Only show for logged in users -->
    <div class="user-panel mt-3 pb-3 mb-3 d-flex" *ngIf="role !== 'VISITOR'">
      <div class="image">
        <img [src]="imageSrc || 'assets/default.png'"
             class="img-circle elevation-2"
             style="width: 45px; height: 45px; object-fit: cover; border-radius: 50%;"
             alt="User Image">
      </div>
      <div class="info">
        <a class="d-block" routerLink="/profile">{{ username }}</a>
      </div>
    </div>

    <!-- Alternative: Welcome message for visitors -->
    <div class="user-panel mt-3 pb-3 mb-3 d-flex" *ngIf="role === 'VISITOR'">
      <div class="info w-100 text-center">
        <span class="d-block text-light">Welcome, Visitor</span>
        <small class="text-muted">Browse our formations</small>
      </div>
    </div>

    <!-- Sidebar Search Form -->
    <div class="form-inline">
      <div class="input-group" data-widget="sidebar-search">
        <input class="form-control form-control-sidebar" type="search" placeholder="Search" aria-label="Search">
        <div class="input-group-append">
          <button class="btn btn-sidebar">
            <i class="fas fa-search fa-fw"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Sidebar Menu -->
    <nav class="mt-2">
      <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">

        <!-- Dashboard: all except VISITOR -->
        <li class="nav-item" *ngIf="role !== 'VISITOR'">
          <a routerLink="/" routerLinkActive="active" class="nav-link">
            <i class="fas fa-tachometer-alt"></i>
            <p>Dashboard</p>
          </a>
        </li>

        <!-- Formations: ADMIN only -->
        <li class="nav-item" *ngIf="role === 'ADMIN'">
          <a class="nav-link">
            <i class="nav-icon fas fa-th"></i>
            <p>Formations<i class="fas fa-angle-left right"></i><span class="badge badge-info right">3</span></p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a routerLink="/formations" routerLinkActive="active" class="nav-link">
                <i class="far fa-circle nav-icon"></i>
                <p>Management</p>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/groups" routerLinkActive="active" class="nav-link">
                <i class="far fa-circle nav-icon"></i>
                <p>Groups</p>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/addgroups" routerLinkActive="active" class="nav-link">
                <i class="far fa-circle nav-icon"></i>
                <p>Add Groups</p>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/formations/statistics" routerLinkActive="active" class="nav-link">
                <i class="far fa-circle nav-icon"></i>
                <p>Statistics</p>
              </a>
            </li>
          </ul>
        </li>

        <!-- Client: ADMIN and GESTIONNAIRE -->
        <li class="nav-item" *ngIf="role === 'ADMIN' || role === 'GESTIONNAIRE'">
          <a class="nav-link">
            <i class="nav-icon fas fa-copy"></i>
            <p>Client<i class="fas fa-angle-left right"></i><span class="badge badge-info right">2</span></p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a routerLink="/clients" routerLinkActive="active" class="nav-link">
                <i class="far fa-circle nav-icon"></i>
                <p>Management</p>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/clients/statistics" routerLinkActive="active" class="nav-link">
                <i class="far fa-circle nav-icon"></i>
                <p>Statistics</p>
              </a>
            </li>
          </ul>
        </li>

        <!-- Demandes: ADMIN and GESTIONNAIRE -->
        <li class="nav-item" *ngIf="role === 'ADMIN' || role === 'GESTIONNAIRE'">
          <a class="nav-link">
            <i class="nav-icon fas fa-chart-pie"></i>
            <p>Demandes<i class="fas fa-angle-left right"></i><span class="badge badge-info right">2</span></p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a routerLink="/demandes" routerLinkActive="active" class="nav-link">
                <i class="far fa-circle nav-icon"></i>
                <p>Management</p>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/demandes/statistics" routerLinkActive="active" class="nav-link">
                <i class="far fa-circle nav-icon"></i>
                <p>Statistics</p>
              </a>
            </li>
          </ul>
        </li>

        <!-- Gestionnaire: ADMIN and GESTIONNAIRE -->
        <li class="nav-item" *ngIf="role === 'ADMIN' || role === 'GESTIONNAIRE'">
          <a class="nav-link">
            <i class="nav-icon fas fa-tree"></i>
            <p>Gestionnaire<i class="fas fa-angle-left right"></i><span class="badge badge-info right">4</span></p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a routerLink="/gere" routerLinkActive="active" class="nav-link">
                <i class="far fa-circle nav-icon"></i>
                <p>gere demande</p>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/calendrier" routerLinkActive="active" class="nav-link">
                <i class="far fa-circle nav-icon"></i>
                <p>Calender</p>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/clientgest" routerLinkActive="active" class="nav-link">
                <i class="far fa-circle nav-icon"></i>
                <p>gere client</p>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/gestionnaires/statistics" routerLinkActive="active" class="nav-link">
                <i class="far fa-circle nav-icon"></i>
                <p>Statistics</p>
              </a>
            </li>
          </ul>
        </li>

        <!-- Mailbox: GESTIONNAIRE only -->
        <li class="nav-item" *ngIf="role === 'GESTIONNAIRE'">
          <a routerLink="/mail" routerLinkActive="active" class="nav-link">
            <i class="nav-icon fas fa-edit"></i>
            <p>MailBox</p>
          </a>
        </li>

        <!-- Tables: ADMIN only -->
        <li class="nav-item" *ngIf="role === 'ADMIN'">
          <a routerLink="/tables" routerLinkActive="active" class="nav-link">
            <i class="nav-icon fas fa-table"></i>
            <p>Tables</p>
          </a>
        </li>

      </ul>
    </nav>
  </div>
</aside>