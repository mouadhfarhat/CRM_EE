<div class="mb-6">
  <div class="bg-gray-800 rounded-2xl p-6 shadow-2xl">
    <!-- Header -->
    <div class="flex flex-col sm:flex-row items-center justify-between mb-6 gap-4">
      <h2 class="text-2xl font-bold text-white tracking-wide">
        Explorer les Formations par Catégorie
      </h2>

      <!-- Search Inputs -->
      <div class="flex flex-wrap items-center gap-3">
        <!-- Recherche Catégorie -->
        <div class="relative">
          <input
            type="text"
            [(ngModel)]="categorySearchTerm"
            (input)="searchCategories()"
            placeholder="Rechercher une catégorie..."
            class="carousel-search-input"
          />
          <i class="pi pi-search carousel-input-icon-left"></i>
          <button
            *ngIf="categorySearchTerm"
            (click)="categorySearchTerm = ''; searchCategories()"
            class="carousel-input-icon-right"
          >
            <i class="pi pi-times text-sm"></i>
          </button>
        </div>

        <!-- Recherche Formation -->
        <div class="relative">
          <input
            type="text"
            [(ngModel)]="searchTerm"
            (input)="onSearchChange()"
            placeholder="Rechercher une formation..."
            class="carousel-search-input"
          />
          <i class="pi pi-search carousel-input-icon-left"></i>
          <button
            *ngIf="searchTerm"
            (click)="searchTerm = ''; onSearchChange()"
            class="carousel-input-icon-right"
          >
            <i class="pi pi-times text-sm"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Carousel Catégories -->
    <div class="relative">
      <p-carousel
        [value]="categories"
        [numVisible]="4"
        [numScroll]="4"
        [circular]="false"
        [showIndicators]="false"
        [showNavigators]="true"
        [responsiveOptions]="responsiveOptions"
      >
        <ng-template pTemplate="item" let-category>
          <div
            (click)="selectCategory(category)"
            class="carousel-category-card"
            [ngClass]="{
              'carousel-category-active': activeCategoryId === category.id,
              'carousel-category-default': activeCategoryId !== category.id
            }"
          >
            {{ category.name }}
          </div>
        </ng-template>
      </p-carousel>
    </div>
  </div>
</div>
