<div class="card">
    <p-dataview #dv [value]="products()" [layout]="layout">
        <!-- Header: Layout Switch Buttons -->
        <ng-template #header>
            <div class="flex justify-end">
                <p-selectbutton [(ngModel)]="layout" [options]="options" [allowEmpty]="false">
                    <ng-template #item let-item>
                        <i class="pi " [ngClass]="{ 'pi-bars': item === 'list', 'pi-table': item === 'grid' }"></i>
                    </ng-template>
                </p-selectbutton>
            </div>
        </ng-template>

        <!-- List View -->
        <ng-template #list let-items>
            <div class="flex flex-col gap-4">
                <div *ngFor="let item of items" class="flex items-center p-4 border border-gray-300 rounded-md">
                    <div class="w-40 h-40 flex-shrink-0">
                        <img
                            class="block rounded w-full h-full object-cover"
                            [src]="'https://primefaces.org/cdn/primeng/images/demo/product/' + item.image"
                            [alt]="item.name"
                        />
                    </div>
                    <div class="flex flex-col justify-between flex-1 ml-4">
                        <div>
                            <span class="text-sm text-gray-500">{{ item.category }}</span>
                            <div class="text-lg font-medium mt-2">{{ item.name }}</div>
                        </div>
                        <div class="flex items-center mt-2">
                            <span class="text-yellow-500 font-bold text-sm">{{ item.rating }}</span>
                            <i class="pi pi-star-fill text-yellow-500 ml-1"></i>
                        </div>
                        <div class="mt-2 text-xl font-semibold">{{ item.price | currency: 'USD' }}</div>
                        <div class="flex items-center gap-2 mt-4">
                            <button pButton icon="pi pi-heart" outlined></button>
                            <button pButton icon="pi pi-shopping-cart" label="Buy Now"
                                [disabled]="item.inventoryStatus === 'OUTOFSTOCK'"></button>
                        </div>
                    </div>
                </div>
            </div>
        </ng-template>

        <!-- Grid View -->
        <ng-template #grid let-items>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                <div *ngFor="let product of items" class="p-2">
                    <div class="p-4 border border-gray-300 rounded-md flex flex-col items-center">
                        <img class="rounded w-full h-48 object-cover"
                            [src]="'https://primefaces.org/cdn/primeng/images/demo/product/' + product.image"
                            [alt]="product.name" />
                        <div class="mt-4 text-center">
                            <span class="text-sm text-gray-500">{{ product.category }}</span>
                            <div class="text-lg font-medium">{{ product.name }}</div>
                            <div class="flex items-center justify-center mt-2">
                                <span class="text-yellow-500 font-bold text-sm">{{ product.rating }}</span>
                                <i class="pi pi-star-fill text-yellow-500 ml-1"></i>
                            </div>
                            <div class="mt-2 text-xl font-semibold">{{ product.price | currency: 'USD' }}</div>
                            <div class="flex justify-center gap-2 mt-4">
                                <button pButton icon="pi pi-shopping-cart" label="Buy Now"
                                    [disabled]="product.inventoryStatus === 'OUTOFSTOCK'"></button>
                                <button pButton icon="pi pi-heart" outlined></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </ng-template>
    </p-dataview>
</div>
